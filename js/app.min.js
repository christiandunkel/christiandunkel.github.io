"use strict";var _={id:function(e){return document.getElementById(e)},class:function(e,t){return(t=t||document).getElementsByClassName(e)},tag:function(e,t){return(t=t||document).getElementsByTagName(e)},select:function(e,t,n){if(void 0===t&&(t=document),/^(#|\.)?[\w\-]+$/.test(e)){switch(e.charAt(0)){case"#":return[t.getElementById(e.substr(1))];case".":return t.getElementsByClassName(e.substr(1).replace(/\./g," "))}return t.getElementsByTagName(e)}if(t.querySelectorAll)return t.querySelectorAll(e);_.isFunction(n)&&n()},contains:function(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1},create:function(e,t){void 0===t&&(t={});var n=e.match(/#[^\.#\s]+/g),o=e.match(/\.[^#\s\.]+/g),i=document.createElement(e.replace(/#[^\.#\s]+|\.[^#\s]+|\s/g,""));for(var a in n&&(i.id=n[0].replace(/#/,"")),o&&(i.className=o.join(" ").replace(/\./g,"")),t)if(t.hasOwnProperty.call(t,a))switch(a){case"innerHTML":i.innerHTML=t[a];break;case"style":for(var r in t[a])i.style.setProperty(r,t[a][r]);break;default:i.setAttribute(a,t[a])}return i},append:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.appendChild(t)},prepend:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.insertBefore(t,e.childNodes[0])},after:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.parentNode.insertBefore(t,e.nextSibling)},before:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.insertBefore(t,e)},remove:function(e){_.isElement(e)&&e.parentNode.removeChild(e)},addEvent:function(e,t,n,o){!0!==o&&(o=!1),"addEventListener"in document?e.addEventListener(t,n,o):e.attachEvent("on"+t,n)},removeEvent:function(e,t,n,o){!0!==o&&(o=!1),"removeEventListener"in document?e.removeEventListener(t,n,o):e.detachEvent("on"+t,n)},onClick:function(e,t,n){_.addEvent(e,"click",t,n)},removeClick:function(e,t,n){_.removeEvent(e,"click",t,n)},onLoad:function(e,t,n){_.addEvent(e,"load",t,n)},removeLoad:function(e,t,n){_.removeEvent(e,"load",t,n)},target:function(e){return e.target||e.srcElement},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},addClass:function(e,t){"classList"in document.documentElement?e.classList.add(t):-1==e.className.split(" ").indexOf(t)&&(e.className+=" "+t)},removeClass:function(e,t){"classList"in document.documentElement?e.classList.remove(t):e.className=e.className.replace(new RegExp("\b"+_.escapeRegex(t)+"\b","g")," ")},toggleClass:function(e,t){_.hasClass(e,t)?_.removeClass(e,t):_.addClass(e,t)},hasClass:function(e,t){return"classList"in document?e.classList.contains(t):-1!=e.className.split(" ").indexOf(t)},getStyle:function(e,t){return"getComputedStyle"in window?window.getComputedStyle(e).getPropertyValue(t):"currentStyle"in document.documentElement?e.currentStyle[t]:void 0},setStyles:function(e,t){for(var n in t)e.style.setProperty(n,t[n])},getHeight:function(e){var t=e.getBoundingClientRect();return t.bottom-t.top},getWidth:function(e){var t=e.getBoundingClientRect();return t.right-t.left},exists:function(e){return null!=e},isElement:function(e){return e instanceof Element||e instanceof HTMLDocument},isElementInDOM:function(e){return!!_.isElement(e)&&document.documentElement.contains(e)},isNodelist:function(e){return NodeList.prototype.isPrototypeOf(e)},isHTMLCollection:function(e){return HTMLCollection.prototype.isPrototypeOf(e)},isFunction:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isArray:function(e){return null!=e&&e.constructor===Array},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isInteger:function(e){return"number"==typeof e&&e%1==0},isFloat:function(e){return"number"==typeof e&&e%1!=0},escapeRegex:function(e){return(""+e).replace(/[\.\*\+\?\^\$\{\}\(\)\|\[\]\\\/\-]/g,"\\$&")},encodeHTML:function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},decodeHTML:function(e){return(""+e).replace(/\&amp\;/g,"&").replace(/\&lt\;/g,"<").replace(/\&gt\;/g,">").replace(/\&quot\;/g,'"').replace(/\&#039\;/g,"'")},randomFloat:function(e,t){return Math.random()*(t-e)+e},randomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t)+1,Math.floor(Math.random()*(t-e))+e}},NODE=function(){NODE.html=document.documentElement||_.tag("html")[0],NODE.head=document.head||_.tag("head")[0],NODE.body=document.body||_.tag("body")[0],NODE.main=_.tag("main")[0],NODE.animated_background=_.id("animated-background"),NODE.nav=_.id("nav"),NODE.hamburger_btn=_.id("hamburger-btn"),NODE.mobile_menu=_.id("mobile-menu"),NODE.mobile_overlay=_.class("overlay",NODE.mobile_menu)[0],NODE.mobile_logo=_.class("logo",NODE.nav)[0];var e=_.class("content",NODE.mobile_menu)[0];NODE.nav_links=_.tag("a",e),NODE.nav_indicator=_.class("hover-bg")[0],NODE.sections=_.class("content-section"),NODE.section_about=_.id("about"),NODE.to_top_btn=_.id("to-top"),NODE.lang_btn=_.id("language-btn"),NODE.titled_elems=_.select("*[title]"),NODE.valid_titled_elems=[],NODE.project_category_btns=_.class("project-select-btn"),NODE.project_cards=_.class("project"),NODE.project_card_show_info_btns=_.class("project-show-info-btn"),NODE.project_settings_btn=_.id("project-settings-btn"),NODE.project_settings_menu=_.id("project-settings-menu"),NODE.project_switch_logic=_.id("project-switch-logic-btn")},NAV={initialize:function(){_.onClick(NODE.hamburger_btn,NAV.toggleWindow),_.onClick(NODE.mobile_overlay,NAV.closeWindow);for(var e=NODE.nav_links.length+1;e--;){var t,n=(t=e<NODE.nav_links.length?NODE.nav_links[e]:NODE.mobile_logo).href.replace(/.*#/i,"");NODE["section_"+n]=_.id(n),_.onClick(t,SCROLL.toSection)}NAV.updateSectionData(),_.onLoad(window,NAV.updateSectionIndicator),_.addEvent(window,"resize",function(){NAV.updateSectionData(),NAV.setLinkForSectionActive(),NAV.updateSectionIndicator()}),_.onClick(NODE.to_top_btn,SCROLL.toTop)},is_open:!1,openWindow:function(){NAV.is_open||(NAV.is_open=!0,_.addClass(NODE.html,"mobile-nav-open"),FOCUS_CHAIN.add([NODE.nav_links[1],NODE.nav_links[2],NODE.lang_btn,NODE.hamburger_btn]))},closeWindow:function(){NAV.is_open&&(NAV.is_open=!1,_.removeClass(NODE.html,"mobile-nav-open"),setTimeout(function(){NODE.hamburger_btn.focus()},150),FOCUS_CHAIN.remove())},toggleWindow:function(){NAV.is_open?NAV.closeWindow():NAV.openWindow()},section_positions:[0],updateSectionData:function(){for(var e=window.scrollY||window.pageYOffset,t=0,n=NODE.sections.length;t<n;t++)NAV.section_positions[t+1]=e+NODE.sections[t].getBoundingClientRect().top},updateSectionIndicator:function(){_.remove(NODE.nav_indicator_style);var e="#nav .content",t=e+" .hover-bg {display: block !important;}",n=NODE.nav_links.length;if(0!=n){for(var o={height:_.getHeight(NODE.nav_links[1]),marginLeft:{},marginRight:{},width:{},left:{}},i=0;i<n;i++){o.width[i]=_.getWidth(NODE.nav_links[i]),o.marginLeft[i]=Number.parseFloat(_.getStyle(NODE.nav_links[i],"margin-left").replace(/[a-z]+/gi,"")),o.marginRight[i]=Number.parseFloat(_.getStyle(NODE.nav_links[i],"margin-right").replace(/[a-z]+/gi,""));for(var a=o.marginLeft[i],r=i;r--;)a+=o.width[r]+o.marginLeft[r]+o.marginRight[r];o.left[i]=a}for(i=0;i<n;i++){NODE.nav_links[i];t+=e+" a.a"+i+".active ~ .hover-bg {left:"+o.left[i]+"px;width:"+o.width[i]+"px;}"}for(i=0;i<n;i++){NODE.nav_links[i];t+=e+" a.a"+i+":hover ~ .hover-bg {left:"+o.left[i]+"px;width:"+o.width[i]+"px;}"}NODE.nav_indicator_style=_.create("style",{type:"text/css",innerHTML:t}),_.append(NODE.head,NODE.nav_indicator_style)}},setLinkForSectionActive:function(){for(var e=window.scrollY||window.pageYOffset,t=0,n=NAV.section_positions.length;n--;)if(NAV.section_positions[n]-e<300){t=n;break}var o=NODE.nav_links[t];if(!_.hasClass(o,"active")){for(n=NODE.nav_links.length;n--;)_.removeClass(NODE.nav_links[n],"active");_.addClass(o,"active")}}},LANG={initialize:function(){_.onClick(NODE.lang_btn,LANG.toggleLanguage),LANG.filterTitledElements(),"en"!=NODE.html.getAttribute("lang")&&LANG.updateTitles()},language_order:["en","de"],toggleLanguage:function(e){for(var t=NODE.html.getAttribute("lang"),n=0,o=LANG.language_order.length;n<o;n++)if(LANG.language_order[n]==t){var i=n+1;i>=LANG.language_order.length&&(i=0),NODE.html.setAttribute("lang",LANG.language_order[i]),LANG.updateTitles(),NAV.updateSectionData(),NAV.updateSectionIndicator()}},filterTitledElements:function(){for(var e=NODE.titled_elems.length;e--;){var t=NODE.titled_elems[e];if(t.hasAttribute("title-de")){t.setAttribute("title-en",NODE.titled_elems[e].title);var n=NODE.valid_titled_elems.length;NODE.valid_titled_elems[n]=t}}},updateTitles:function(){for(var e=NODE.html.getAttribute("lang"),t=NODE.valid_titled_elems.length;t--;){var n=NODE.valid_titled_elems[t];n.title=n.getAttribute("title-"+e)}}},FOCUS_CHAIN={is_active:!1,elems:[],add:function(e){FOCUS_CHAIN.is_active||(FOCUS_CHAIN.is_active=!0,document.activeElement.blur(),FOCUS_CHAIN.elems=e,_.addEvent(window,"keydown",FOCUS_CHAIN.hijack_event))},remove:function(){FOCUS_CHAIN.is_active&&(FOCUS_CHAIN.is_active=!1,FOCUS_CHAIN.elems=[],_.removeEvent(window,"keydown",FOCUS_CHAIN.hijack_event))},hijack_event:function(e){if(!(FOCUS_CHAIN.elems.length<1)&&9==e.keyCode){if(e.preventDefault(),1!=FOCUS_CHAIN.elems.length)for(var t=FOCUS_CHAIN.elems.length;t--;)if(document.activeElement==FOCUS_CHAIN.elems[t])return void(t==FOCUS_CHAIN.elems.length-1?FOCUS_CHAIN.elems[0].focus():FOCUS_CHAIN.elems[t+1].focus());FOCUS_CHAIN.elems[0].focus()}}},PROJECT={initialize:function(){for(var e=NODE.project_category_btns.length;e--;){var t=NODE.project_category_btns[e];PROJECT.categories[t.getAttribute("category")]=!_.hasClass(t,"inactive"),_.onClick(t,function(e){for(var t=_.target(e);"BUTTON"!=t.tagName&&"button"!=t.tagName;)t=t.parentElement;var n=t.getAttribute("category");PROJECT.categories[n]=!PROJECT.categories[n],_.toggleClass(t,"inactive"),PROJECT.updateSelection()})}_.onClick(NODE.project_settings_btn,PROJECT.toggleSettingsMenu),PROJECT.logic_operators_num=PROJECT.logic_operators.length,PROJECT.current_logic=NODE.project_switch_logic.getAttribute("logic"),_.onClick(NODE.project_switch_logic,function(){for(var e=PROJECT.logic_operators_num,t=e-1,n=PROJECT.logic_operators,o=PROJECT.current_logic,i=e;i--;)if(o==n[i]){PROJECT.current_logic=t==i?n[0]:n[i+1];break}NODE.project_switch_logic.setAttribute("logic",PROJECT.current_logic),PROJECT.updateSelection()}),PROJECT.updateSelection();for(e=NODE.project_card_show_info_btns.length;e--;){var n=NODE.project_card_show_info_btns[e];_.onClick(n,function(e){for(var t=_.target(e),n=_.hasClass(t,"show"),o=NODE.project_card_show_info_btns.length;o--;)_.removeClass(NODE.project_card_show_info_btns[o],"show");n||_.addClass(t,"show")})}},settings_menu_is_open:!1,toggleSettingsMenu:function(){PROJECT.settings_menu_is_open?PROJECT.closeSettingsMenu():PROJECT.openSettingsMenu()},openSettingsMenu:function(){PROJECT.settings_menu_is_open=!0,_.addClass(NODE.project_settings_menu,"show"),NODE.project_settings_menu.setAttribute("aria-hidden","false"),setTimeout(function(){_.onClick(document,PROJECT.handleClickOutsideSettingsMenu),_.addEvent(document,"touchstart",PROJECT.handleClickOutsideSettingsMenu)},50)},closeSettingsMenu:function(){PROJECT.settings_menu_is_open=!1,_.removeClass(NODE.project_settings_menu,"show"),NODE.project_settings_menu.setAttribute("aria-hidden","true"),_.removeClick(document,PROJECT.handleClickOutsideSettingsMenu),_.removeEvent(document,"touchstart",PROJECT.handleClickOutsideSettingsMenu)},handleClickOutsideSettingsMenu:function(e){var t=_.target(e);_.contains(NODE.project_settings_menu,t)||t==NODE.project_settings_btn||_.contains(NODE.project_settings_btn,t)||(PROJECT.closeSettingsMenu(),_.removeClick(document,PROJECT.handleClickOutsideSettingsMenu),_.removeEvent(document,"touchstart",PROJECT.handleClickOutsideSettingsMenu))},categories:{},current_logic:null,logic_operators:["AND","OR"],logic_operators_num:null,updateSelection:function(){var e=!0;for(var t in PROJECT.categories)if(1==PROJECT.categories[t]){e=!1;break}e:for(var n=NODE.project_cards.length;n--;){var o=NODE.project_cards[n];if(e)_.removeClass(o,"hidden");else{var i=o.getAttribute("categories"),a=0,r=0;for(var t in PROJECT.categories){if(!Object.prototype.hasOwnProperty.call(PROJECT.categories,t))return;if(0!=PROJECT.categories[t]&&(a++,i.match(new RegExp(_.escapeRegex(t),"i")))){if("OR"==PROJECT.current_logic){_.removeClass(o,"hidden");continue e}"AND"==PROJECT.current_logic&&r++}}"AND"!=PROJECT.current_logic||a!=r?_.addClass(o,"hidden"):_.removeClass(o,"hidden")}}}},SECTION={initialize:function(){SECTION.loadAnimatedBackground(),_.addEvent(window,"keyup",SECTION.tabEvent)},tabEvent:function(e){if(9==e.keyCode){for(var t=document.activeElement;"section"!=t.tagName&&"SECTION"!=t.tagName;)if(null==(t=t.parentElement))return void console.log("FAIL: ",_.target(e));_.addClass(t,"appear")}},spread_values:{last_left:0,last_colors:[0,0]},square_list:[],loadAnimatedBackground:function(e){if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;SECTION.playAnimatedBackground(),_.addEvent(window,"focus",SECTION.playAnimatedBackground),_.addEvent(window,"blur",SECTION.clearAnimatedBackground)},background_interval:null,playAnimatedBackground:function(){if(!SECTION.background_interval){SECTION.clearAnimatedBackground();for(var e=[0,5,10,15,19,32,39,42,45,58,65,70,76,80,92,95],t=e.length;t--;){var n=e[t];SECTION.addSquareToAnimatedBackground(n)}for(t=2;t--;)SECTION.addSquareToAnimatedBackground(_.randomInt(75,95)),SECTION.addSquareToAnimatedBackground(_.randomInt(0,60));SECTION.background_interval=setInterval(SECTION.addSquareToAnimatedBackground,3e3)}},clearAnimatedBackground:function(){SECTION.background_interval&&(clearInterval(SECTION.background_interval),SECTION.background_interval=null);for(var e=SECTION.square_list.length;e--;)_.remove(SECTION.square_list[e]);SECTION.square_list=[]},addSquareToAnimatedBackground:function(e){if(console.log(SECTION.square_list.length),70<SECTION.square_list.length){var t=SECTION.square_list.shift();_.remove(t)}var n=_.randomFloat(5,20)+"%",o=50<SECTION.spread_values.last_left?_.randomInt(0,48):_.randomInt(52,100),i={style:{width:n,padding:"0 0 "+n+" 0",left:(SECTION.spread_values.last_left=o)+"%"}};e&&(i.style["animation-delay"]="-"+(e||0)+"s");var a=SECTION.spread_values.last_colors[0]==SECTION.spread_values.last_colors[1]?(SECTION.spread_values.last_colors[1]+1)%2:SECTION.spread_values.last_colors[1];SECTION.spread_values.last_colors[0]=SECTION.spread_values.last_colors[1];var r=0==(SECTION.spread_values.last_colors[1]=a)?"red":"blue",s=0==_.randomInt(0,1)?"rotating-left":"rotating-right",l=_.create("div.square."+r+"."+s,i);SECTION.square_list[SECTION.square_list.length]=l,_.append(NODE.animated_background,l)}},SCROLL={initialize:function(){window.onscroll=SCROLL.event,setInterval(SCROLL.update,100)},scrollY:0,has_scrolled:!1,event:function(){SCROLL.has_scrolled=!0},update:function(){0!=SCROLL.has_scrolled&&(SCROLL.scrollY=window.scrollY||window.pageYOffset,SCROLL.has_scrolled=!1,SCROLL.showHiddenSections(),NAV.updateSectionData(),800<=window.innerWidth&&NAV.setLinkForSectionActive())},showHiddenSections:function(){for(var e=!0,t=NODE.sections.length;t--;)if(!_.hasClass(NODE.sections[t],"appear")){e=!1;break}if(e)SCROLL.showHiddenSections=function(){};else{var n=0;for(t=NAV.section_positions.length;t--;)if(NAV.section_positions[t]-SCROLL.scrollY<300){n=t;break}0!=n&&_.addClass(NODE.sections[n-1],"appear")}},toTop:function(){if("scrollBehavior"in document.documentElement.style)window.scrollTo({top:0,left:0,behavior:"smooth"});else if("requestAnimationFrame"in window){var i=window.scrollY||window.pageYOffset;if(i<10)window.scrollTo(0,0);else{var a=void 0;window.requestAnimationFrame(function e(t){var n=t-(a=a||t),o=Math.min(n/300,1);o<.95?(window.scrollTo(0,i*(1-o)),n<300?window.requestAnimationFrame(e):window.scrollTo(0,0)):window.scrollTo(0,0)})}}else window.scrollTo(0,0)},toElem:function(e){if("scrollBehavior"in document.documentElement.style&&"scrollIntoView"in document.documentElement)e.scrollIntoView({behavior:"smooth"});else{if(!("requestAnimationFrame"in window))return location.href="#",void(location.href="#"+e.id);var i=window.scrollY||window.pageYOffset,a=e.getBoundingClientRect().top+i,r=a-i;if(Math.abs(r)<10)window.scrollTo(0,a);else{var s=void 0;window.requestAnimationFrame(function e(t){var n=t-(s=s||t),o=Math.min(n/300,1);o<.95?(window.scrollTo(0,i+r*o),n<300?window.requestAnimationFrame(e):window.scrollTo(0,a)):window.scrollTo(0,a)})}}},toSection:function(e){_.preventDefault(e);for(var t=_.target(e);"A"!=t.tagName&&"a"!=t.tagName;)t=t.parentElement;var n=t.href.replace(/.*#/i,"");SCROLL.toElem(NODE["section_"+n]);for(var o=NODE.nav_links.length;o--;)_.removeClass(NODE.nav_links[o],"active");_.addClass(t,"active")}};NODE(),NAV.initialize(),LANG.initialize(),PROJECT.initialize(),SCROLL.initialize(),SECTION.initialize();