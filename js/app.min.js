"use strict";var _={id:function(e){return document.getElementById(e)},class:function(e,t){return(t=t||document).getElementsByClassName(e)},tag:function(e,t){return(t=t||document).getElementsByTagName(e)},select:function(e,t,n){if(void 0===t&&(t=document),/^(#|\.)?[\w\-]+$/.test(e)){switch(e.charAt(0)){case"#":return[t.getElementById(e.substr(1))];case".":return t.getElementsByClassName(e.substr(1).replace(/\./g," "))}return t.getElementsByTagName(e)}if(t.querySelectorAll)return t.querySelectorAll(e);_.isFunction(n)&&n()},create:function(e,t){void 0===t&&(t={});var n=e.match(/#[^\.#\s]+/g),i=e.match(/\.[^#\s\.]+/g),o=document.createElement(e.replace(/#[^\.#\s]+|\.[^#\s]+|\s/g,""));for(var r in n&&(o.id=n[0].replace(/#/,"")),i&&(o.className=i.join(" ").replace(/\./g,"")),t)if(t.hasOwnProperty.call(t,r))switch(r){case"innerHTML":o.innerHTML=t[r];break;case"style":for(var a in t[r])o.style.setProperty(a,t[r][a]);break;default:o.setAttribute(r,t[r])}return o},append:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.appendChild(t)},prepend:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.insertBefore(t,e.childNodes[0])},after:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.parentNode.insertBefore(t,e.nextSibling)},before:function(e,t){(_.isString(t)||_.isNumber(t))&&(t=document.createTextNode(t)),e.insertBefore(t,e)},remove:function(e){_.isElement(e)&&e.parentNode.removeChild(e)},addEvent:function(e,t,n,i){!0!==i&&(i=!1),"addEventListener"in e?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)},removeEvent:function(e,t,n,i){!0!==i&&(i=!1),"removeEventListener"in e?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n)},onClick:function(e,t,n){_.addEvent(e,"click",t,n)},removeClick:function(e,t,n){_.removeEvent(e,"click",t,n)},onLoad:function(e,t,n){_.addEvent(e,"load",t,n)},removeLoad:function(e,t,n){_.removeEvent(e,"load",t,n)},target:function(e){return e.target||e.srcElement},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},addClass:function(e,t){"classList"in e?e.classList.add(t):-1==e.className.split(" ").indexOf(t)&&(e.className+=" "+t)},removeClass:function(e,t){"classList"in e?e.classList.remove(t):e.className=e.className.replace(new RegExp("\b"+_.escapeRegex(t)+"\b","g")," ")},toggleClass:function(e,t){_.hasClass(e,t)?_.removeClass(e,t):_.addClass(e,t)},hasClass:function(e,t){return"classList"in e?e.classList.contains(t):-1!=e.className.split(" ").indexOf(t)},getStyle:function(e,t){return"getComputedStyle"in window?window.getComputedStyle(e).getPropertyValue(t):"currentStyle"in e?e.currentStyle[t]:void 0},setStyles:function(e,t){for(var n in t)e.style.setProperty(n,t[n])},getHeight:function(e){var t=e.getBoundingClientRect();return t.bottom-t.top},getWidth:function(e){var t=e.getBoundingClientRect();return t.right-t.left},exists:function(e){return null!=e},isElement:function(e){return e instanceof Element||e instanceof HTMLDocument},isElementInDOM:function(e){return!!_.isElement(e)&&document.documentElement.contains(e)},isNodelist:function(e){return NodeList.prototype.isPrototypeOf(e)},isHTMLCollection:function(e){return HTMLCollection.prototype.isPrototypeOf(e)},isFunction:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isArray:function(e){return null!=e&&e.constructor===Array},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isInteger:function(e){return"number"==typeof e&&e%1==0},isFloat:function(e){return"number"==typeof e&&e%1!=0},escapeRegex:function(e){return(""+e).replace(/[\.\*\+\?\^\$\{\}\(\)\|\[\]\\\/\-]/g,"\\$&")},encodeHTML:function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},decodeHTML:function(e){return(""+e).replace(/\&amp\;/g,"&").replace(/\&lt\;/g,"<").replace(/\&gt\;/g,">").replace(/\&quot\;/g,'"').replace(/\&#039\;/g,"'")}},NODE=function(){NODE.html=document.documentElement||_.tag("html")[0],NODE.head=document.head||_.tag("head")[0],NODE.body=document.body||_.tag("body")[0],NODE.main=_.tag("main")[0],NODE.nav=_.id("nav"),NODE.hamburger_btn=_.id("hamburger-btn"),NODE.mobile_menu=_.id("mobile-menu"),NODE.mobile_overlay=_.class("overlay",NODE.mobile_menu)[0],NODE.mobile_logo=_.class("logo",NODE.nav)[0];var e=_.class("content",NODE.mobile_menu)[0];NODE.nav_links=_.tag("a",e),NODE.nav_indicator=_.class("hover-bg")[0],NODE.sections=_.class("content-section"),NODE.to_top_btn=_.id("to-top"),NODE.lang_btn=_.id("language-btn"),NODE.titled_elems=_.select("*[title]"),NODE.valid_titled_elems=[],NODE.project_category_btns=_.class("project-select-btn"),NODE.project_cards=_.class("project"),NODE.project_switch_logic=_.id("project-switch-logic-btn")},NAV={initialize:function(){_.onClick(NODE.hamburger_btn,NAV.toggleWindow),_.onClick(NODE.mobile_overlay,NAV.closeWindow);for(var e=NODE.nav_links.length+1;e--;){var t,n=(t=e<NODE.nav_links.length?NODE.nav_links[e]:NODE.mobile_logo).href.replace(/.*#/i,"");NODE["section_"+n]=_.id(n),_.onClick(t,SCROLL.toSection)}NAV.updateSectionData(),_.onLoad(window,NAV.updateSectionIndicator),_.addEvent(window,"resize",function(){NAV.updateSectionData(),NAV.setLinkForSectionActive(),NAV.updateSectionIndicator()}),_.onClick(NODE.to_top_btn,SCROLL.toTop)},is_open:!1,openWindow:function(){NAV.is_open||(NAV.is_open=!0,_.addClass(NODE.html,"mobile-nav-open"),setTimeout(function(){NODE.nav_links[1].focus()},150))},closeWindow:function(){NAV.is_open&&(NAV.is_open=!1,_.removeClass(NODE.html,"mobile-nav-open"),setTimeout(function(){NODE.hamburger_btn.focus()},150))},toggleWindow:function(){NAV.is_open?NAV.closeWindow():NAV.openWindow()},section_positions:[0],updateSectionData:function(){for(var e=window.scrollY||window.pageYOffset,t=0,n=NODE.sections.length;t<n;t++)NAV.section_positions[t+1]=e+NODE.sections[t].getBoundingClientRect().top},updateSectionIndicator:function(){_.remove(NODE.nav_indicator_style);var e="#nav .content",t=e+" .hover-bg {display: block !important;}",n=NODE.nav_links.length;if(0!=n){for(var i={height:_.getHeight(NODE.nav_links[1]),marginLeft:{},marginRight:{},width:{},left:{}},o=0;o<n;o++){i.width[o]=_.getWidth(NODE.nav_links[o]),i.marginLeft[o]=Number.parseFloat(_.getStyle(NODE.nav_links[o],"margin-left").replace(/[a-z]+/gi,"")),i.marginRight[o]=Number.parseFloat(_.getStyle(NODE.nav_links[o],"margin-right").replace(/[a-z]+/gi,""));for(var r=i.marginLeft[o],a=o;a--;)r+=i.width[a]+i.marginLeft[a]+i.marginRight[a];i.left[o]=r}for(o=0;o<n;o++){NODE.nav_links[o];t+=e+" a.a"+o+".active ~ .hover-bg {left:"+i.left[o]+"px;width:"+i.width[o]+"px;}"}for(o=0;o<n;o++){NODE.nav_links[o];t+=e+" a.a"+o+":hover ~ .hover-bg {left:"+i.left[o]+"px;width:"+i.width[o]+"px;}"}NODE.nav_indicator_style=_.create("style",{type:"text/css",innerHTML:t}),_.append(NODE.head,NODE.nav_indicator_style)}},setLinkForSectionActive:function(){for(var e=window.scrollY||window.pageYOffset,t=0,n=NAV.section_positions.length;n--;)if(NAV.section_positions[n]-e<300){t=n;break}var i=NODE.nav_links[t];if(!_.hasClass(i,"active")){for(n=NODE.nav_links.length;n--;)_.removeClass(NODE.nav_links[n],"active");_.addClass(i,"active")}}},LANG={initialize:function(){_.onClick(NODE.lang_btn,LANG.toggleLanguage),LANG.filterTitledElements(),"en"!=NODE.html.getAttribute("lang")&&LANG.updateTitles()},language_order:["en","de"],toggleLanguage:function(e){for(var t=NODE.html.getAttribute("lang"),n=0,i=LANG.language_order.length;n<i;n++)if(LANG.language_order[n]==t){var o=n+1;o>=LANG.language_order.length&&(o=0),NODE.html.setAttribute("lang",LANG.language_order[o]),LANG.updateTitles(),NAV.updateSectionData(),NAV.updateSectionIndicator()}},filterTitledElements:function(){for(var e=NODE.titled_elems.length;e--;){var t=NODE.titled_elems[e];if(t.hasAttribute("title-de")){t.setAttribute("title-en",NODE.titled_elems[e].title);var n=NODE.valid_titled_elems.length;NODE.valid_titled_elems[n]=t}}},updateTitles:function(){for(var e=NODE.html.getAttribute("lang"),t=NODE.valid_titled_elems.length;t--;){var n=NODE.valid_titled_elems[t];n.title=n.getAttribute("title-"+e)}}},PROJECT={initialize:function(){for(var e=NODE.project_category_btns.length;e--;){var t=NODE.project_category_btns[e];PROJECT.categories[t.getAttribute("category")]=!_.hasClass(t,"inactive"),_.onClick(t,function(e){for(var t=_.target(e);"BUTTON"!=t.tagName&&"button"!=t.tagName;)t=t.parentElement;var n=t.getAttribute("category");PROJECT.categories[n]=!PROJECT.categories[n],_.toggleClass(t,"inactive"),PROJECT.updateSelection()})}PROJECT.logic_operators_num=PROJECT.logic_operators.length,PROJECT.current_logic=NODE.project_switch_logic.getAttribute("logic"),_.onClick(NODE.project_switch_logic,function(){for(var e=PROJECT.logic_operators_num,t=e-1,n=PROJECT.logic_operators,i=PROJECT.current_logic,o=e;o--;)if(i==n[o]){PROJECT.current_logic=t==o?n[0]:n[o+1];break}NODE.project_switch_logic.setAttribute("logic",PROJECT.current_logic),PROJECT.updateSelection()}),PROJECT.updateSelection()},categories:{},current_logic:null,logic_operators:["AND","OR"],logic_operators_num:null,updateSelection:function(){var e=!0;for(var t in PROJECT.categories)if(1==PROJECT.categories[t]){e=!1;break}e:for(var n=NODE.project_cards.length;n--;){var i=NODE.project_cards[n];if(e)_.removeClass(i,"hidden");else{var o=i.getAttribute("categories"),r=0,a=0;for(var t in PROJECT.categories){if(!Object.prototype.hasOwnProperty.call(PROJECT.categories,t))return;if(0!=PROJECT.categories[t]&&(r++,o.match(new RegExp(_.escapeRegex(t),"i")))){if("OR"==PROJECT.current_logic){_.removeClass(i,"hidden");continue e}"AND"==PROJECT.current_logic&&a++}}"AND"!=PROJECT.current_logic||r!=a?_.addClass(i,"hidden"):_.removeClass(i,"hidden")}}}},SCROLL={initialize:function(){window.onscroll=SCROLL.event,setInterval(SCROLL.update,100)},scrollY:0,has_scrolled:!1,event:function(){SCROLL.has_scrolled=!0},update:function(){if(SCROLL.has_scrolled){window.scrollY||window.pageYOffset;SCROLL.scrollY=window.scrollY||window.pageYOffset,SCROLL.has_scrolled=!1,SCROLL.showSection(),NAV.updateSectionData(),800<=window.innerWidth&&NAV.setLinkForSectionActive()}},showSection:function(){for(var e=!0,t=NODE.sections.length;t--;)if(!_.hasClass(NODE.sections[t],"appear")){e=!1;break}if(e)SCROLL.showSection=function(){};else{var n=0;for(t=NAV.section_positions.length;t--;)if(NAV.section_positions[t]-SCROLL.scrollY<300){n=t;break}0!=n&&_.addClass(NODE.sections[n-1],"appear")}},toTop:function(){if("scrollBehavior"in document.documentElement.style)window.scrollTo({top:0,left:0,behavior:"smooth"});else if("requestAnimationFrame"in window){var o=window.scrollY||window.pageYOffset;if(o<10)window.scrollTo(0,0);else{var r=void 0;window.requestAnimationFrame(function e(t){var n=t-(r=r||t),i=Math.min(n/300,1);i<.95?(window.scrollTo(0,o*(1-i)),n<300?window.requestAnimationFrame(e):window.scrollTo(0,0)):window.scrollTo(0,0)})}}else window.scrollTo(0,0)},toElem:function(e){if("scrollBehavior"in document.documentElement.style&&"scrollIntoView"in document.documentElement)e.scrollIntoView({behavior:"smooth"});else{if(!("requestAnimationFrame"in window))return location.href="#",void(location.href="#"+e.id);var o=window.scrollY||window.pageYOffset,r=e.getBoundingClientRect().top+o,a=r-o;if(Math.abs(a)<10)window.scrollTo(0,r);else{var l=void 0;window.requestAnimationFrame(function e(t){var n=t-(l=l||t),i=Math.min(n/300,1);i<.95?(window.scrollTo(0,o+a*i),n<300?window.requestAnimationFrame(e):window.scrollTo(0,r)):window.scrollTo(0,r)})}}},toSection:function(e){_.preventDefault(e);for(var t=_.target(e);"A"!=t.tagName&&"a"!=t.tagName;)t=t.parentElement;var n=t.href.replace(/.*#/i,"");SCROLL.toElem(NODE["section_"+n]);for(var i=NODE.nav_links.length;i--;)_.removeClass(NODE.nav_links[i],"active");_.addClass(t,"active")}};NODE(),NAV.initialize(),LANG.initialize(),PROJECT.initialize(),SCROLL.initialize();